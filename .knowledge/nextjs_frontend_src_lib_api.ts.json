{"is_source_file": true, "format": "TypeScript", "description": "This file provides TypeScript type definitions and helper functions for interacting with a FastAPI backend API. It includes functions for user authentication, blog management, and content generation, along with associated data types.", "external_files": ["fetch"], "process.env.NEXT_PUBLIC_API_BASE_URL": ["fetch", "localStorage", "URLSearchParams"], "external_methods": ["fetch", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "URLSearchParams.append", "URLSearchParams.set", "URLSearchParams.toString"], "published": ["signup", "login", "me", "logout", "generateDraft", "listBlogs", "getBlog", "createBlog", "updateBlog", "patchBlog", "deleteBlog"], "classes": [], "methods": [{"name": "function getAuthHeader(): HeadersInit { getAuthHeader", "description": "Constructs and returns authorization headers containing a Bearer token if available.", "scope": "", "scopeKind": ""}, {"name": "export async function signup(email: string, password: string, full_name?: string): Promise<UserO/ signup", "description": "Creates a new user account and returns the user profile.", "scope": "", "scopeKind": ""}, {"name": "export async function login(email: string, password: string): Promise<TokenResponse> { login", "description": "Performs user login and stores the access token in local storage.", "scope": "", "scopeKind": ""}, {"name": "export async function me(): Promise<UserOut | null> { me", "description": "Retrieves current user's profile information.", "scope": "", "scopeKind": ""}, {"name": "export function logout(): void { logout", "description": "Removes stored authentication token from local storage.", "scope": "", "scopeKind": ""}, {"name": "export async function generateDraft(payload: GenerateRequest): Promise<GenerateResponse> { generateDraft", "description": "Requests a generated blog draft based on a given prompt.", "scope": "", "scopeKind": ""}, {"name": "export async function listBlogs(params?: { skip?: number; limit?: number; status_filter?: string/ listBlogs", "description": "Lists blogs with optional pagination and filtering.", "scope": "", "scopeKind": ""}, {"name": "export async function getBlog(blog_id: number): Promise<BlogOut> { getBlog", "description": "Fetches details of a specific blog by ID.", "scope": "", "scopeKind": ""}, {"name": "export async function createBlog(data: BlogCreate): Promise<BlogOut> { createBlog", "description": "Creates a new blog with provided data.", "scope": "", "scopeKind": ""}, {"name": "export async function updateBlog(blog_id: number, data: BlogCreate): Promise<BlogOut> { updateBlog", "description": "Replaces an existing blog with new data.", "scope": "", "scopeKind": ""}, {"name": "export async function patchBlog(blog_id: number, data: BlogUpdate): Promise<BlogOut> { patchBlog", "description": "Partially updates fields of an existing blog.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteBlog(blog_id: number): Promise<void> { deleteBlog", "description": "Deletes a blog by ID.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "getAuthHeader"], "search-terms": ["API client", "FastAPI", "JWT", "Content API", "Blog management", "auth", "generate", "TypeScript types"], "state": 2, "file_id": 11, "knowledge_revision": 51, "git_revision": "", "revision_history": [{"24": ""}, {"51": ""}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || \"http:\\/\\/localhost:3001\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "BlogCreate", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type BlogCreate = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "BlogList", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type BlogList = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "BlogOut", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type BlogOut = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "BlogUpdate", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type BlogUpdate = Partial<Pick<BlogCreate, \"title\" | \"edited_content\" | \"status\">>;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "GenerateRequest", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type GenerateRequest = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "GenerateResponse", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type GenerateResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "TokenResponse", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type TokenResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UserOut", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export type UserOut = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const body = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "createBlog", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function createBlog(data: BlogCreate): Promise<BlogOut> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const data: TokenResponse = await res.json();$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "deleteBlog", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function deleteBlog(blog_id: number): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "generateDraft", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function generateDraft(payload: GenerateRequest): Promise<GenerateResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getAuthHeader", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^function getAuthHeader(): HeadersInit {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getBlog", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function getBlog(blog_id: number): Promise<BlogOut> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listBlogs", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function listBlogs(params?: { skip?: number; limit?: number; status_filter?: string/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function login(email: string, password: string): Promise<TokenResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export function logout(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function me(): Promise<UserOut | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "createBlog", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteBlog", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "generateDraft", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "getBlog", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "listBlogs", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "patchBlog", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "signup", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const msg = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "updateBlog", "scopeKind": "function"}, {"_type": "tag", "name": "patchBlog", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function patchBlog(blog_id: number, data: BlogUpdate): Promise<BlogOut> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const q = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "listBlogs", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^    const res = await fetch(`${API_BASE}\\/auth\\/me`, {$/", "language": "TypeScript", "kind": "constant", "scope": "me", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/auth\\/login`, {$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/auth\\/signup`, {$/", "language": "TypeScript", "kind": "constant", "scope": "signup", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs?${q.toString()}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "listBlogs", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs\\/${blog_id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "deleteBlog", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs\\/${blog_id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "getBlog", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs\\/${blog_id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "patchBlog", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs\\/${blog_id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "updateBlog", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/blogs`, {$/", "language": "TypeScript", "kind": "constant", "scope": "createBlog", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/generate`, {$/", "language": "TypeScript", "kind": "constant", "scope": "generateDraft", "scopeKind": "function"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function signup(email: string, password: string, full_name?: string): Promise<UserO/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^  const token = localStorage.getItem(\"access_token\");$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthHeader", "scopeKind": "function"}, {"_type": "tag", "name": "updateBlog", "path": "/home/kavia/workspace/code-generation/contentcraft-ai-89805-91282/nextjs_frontend/src/lib/api.ts", "pattern": "/^export async function updateBlog(blog_id: number, data: BlogCreate): Promise<BlogOut> {$/", "language": "TypeScript", "kind": "function"}], "hash": "ace2fea04ae7c8824bf90ccf2072c74e", "format-version": 4, "code-base-name": "nextjs_frontend", "filename": "nextjs_frontend/src/lib/api.ts"}